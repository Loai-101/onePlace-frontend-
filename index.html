<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/png" href="https://res.cloudinary.com/dvybb2xnc/image/upload/v1759838355/OP_Logo_ec0wjg.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>One Place</title>
    <script>
      // Suppress Sentry errors in console (harmless external service errors from browser extensions)
      (function() {
        'use strict';
        
        const sentryPatterns = [
          'sentry.io',
          'Sentry',
          'ingest.us.sentry',
          'o1100188.ingest.us.sentry',
          'sentry_client',
          'sentry_key',
          'sentry_version',
          'contentScript.bundle.js',
          '4509792343293952',
          '159e1196d6541a5f83ada583dcf3a2be',
          'sentry.javascript.browser',
          '/envelope/',
          '403',
          'Forbidden',
          'ingest.us.sentry.io',
          'o1100188'
        ];
        
        const isSentryRelated = (message) => {
          if (!message) return false;
          const str = String(message).toLowerCase();
          return sentryPatterns.some(pattern => str.includes(pattern.toLowerCase()));
        };
        
        // Store original console methods
        const originalError = console.error;
        const originalWarn = console.warn;
        const originalLog = console.log;
        const originalInfo = console.info;
        const originalDebug = console.debug;
      
        // Override console methods to filter Sentry messages
        console.error = function(...args) {
          if (args.some(arg => isSentryRelated(arg))) {
            return; // Suppress Sentry errors
          }
          originalError.apply(console, args);
        };
        
        console.warn = function(...args) {
          if (args.some(arg => isSentryRelated(arg))) {
            return; // Suppress Sentry warnings
          }
          originalWarn.apply(console, args);
        };
        
        console.log = function(...args) {
          if (args.some(arg => isSentryRelated(arg))) {
            return; // Suppress Sentry logs
          }
          originalLog.apply(console, args);
        };
        
        console.info = function(...args) {
          if (args.some(arg => isSentryRelated(arg))) {
            return; // Suppress Sentry info
          }
          originalInfo.apply(console, args);
        };
        
        console.debug = function(...args) {
          if (args.some(arg => isSentryRelated(arg))) {
            return; // Suppress Sentry debug
          }
          originalDebug.apply(console, args);
        };
      
        // Suppress Sentry network errors - catch all error events
        const suppressSentryError = function(event) {
          const errorMessage = event.message || event.error?.message || '';
          const errorSource = event.filename || event.source || event.target?.src || event.target?.href || '';
          const errorUrl = event.target?.src || event.target?.href || event.filename || '';
          const errorStack = event.error?.stack || '';
          
          if (isSentryRelated(errorMessage) || 
              isSentryRelated(errorSource) || 
              isSentryRelated(errorUrl) ||
              isSentryRelated(errorStack)) {
            event.preventDefault();
            event.stopPropagation();
            event.stopImmediatePropagation();
            return false;
          }
        };
        
        window.addEventListener('error', suppressSentryError, true);
        window.addEventListener('unhandledrejection', suppressSentryError, true);
        
        // Suppress network errors from resource loading
        window.addEventListener('error', function(event) {
          if (event.target && (event.target.tagName === 'SCRIPT' || event.target.tagName === 'LINK' || event.target.tagName === 'IMG')) {
            const src = event.target.src || event.target.href || '';
            if (isSentryRelated(src)) {
              event.preventDefault();
              event.stopPropagation();
              event.stopImmediatePropagation();
              return false;
            }
          }
        }, true);
      
        // Suppress Sentry fetch/network errors
        const originalFetch = window.fetch;
        window.fetch = async function(...args) {
          try {
            const url = args[0];
            if (typeof url === 'string' && isSentryRelated(url)) {
              // Suppress Sentry requests silently - return a successful response
              return Promise.resolve(new Response(JSON.stringify({ success: true }), { 
                status: 200, 
                statusText: 'OK',
                headers: { 'Content-Type': 'application/json' }
              }));
            }
            // Check Request object
            if (url && typeof url === 'object' && url.url && isSentryRelated(url.url)) {
              return Promise.resolve(new Response(JSON.stringify({ success: true }), { 
                status: 200, 
                statusText: 'OK',
                headers: { 'Content-Type': 'application/json' }
              }));
            }
            const response = await originalFetch.apply(this, args);
            // Check if response URL is Sentry-related
            if (response.url && isSentryRelated(response.url)) {
              // Return a mock successful response
              return new Response(JSON.stringify({ success: true }), { 
                status: 200, 
                statusText: 'OK',
                headers: { 'Content-Type': 'application/json' }
              });
            }
            return response;
          } catch (error) {
            if (error.message && isSentryRelated(error.message)) {
              // Return a mock successful response instead of throwing
              return Promise.resolve(new Response(JSON.stringify({ success: true }), { 
                status: 200, 
                statusText: 'OK',
                headers: { 'Content-Type': 'application/json' }
              }));
            }
            throw error;
          }
        };
      
        // Suppress Sentry XMLHttpRequest errors
        const originalXHROpen = XMLHttpRequest.prototype.open;
        XMLHttpRequest.prototype.open = function(method, url, ...rest) {
          if (typeof url === 'string' && isSentryRelated(url)) {
            // Suppress Sentry XHR requests
            this._sentrySuppressed = true;
            // Override methods to prevent errors
            const noop = function() {};
            this.addEventListener = noop;
            this.removeEventListener = noop;
            this.readyState = 4;
            this.status = 200;
            this.statusText = 'OK';
            this.response = '';
            this.responseText = '';
            this.responseURL = url;
            return;
          }
          return originalXHROpen.apply(this, [method, url, ...rest]);
        };
        
        const originalXHRSend = XMLHttpRequest.prototype.send;
        XMLHttpRequest.prototype.send = function(...args) {
          if (this._sentrySuppressed) {
            // Don't actually send Sentry requests
            // Trigger a fake success to prevent console errors
            setTimeout(() => {
              try {
                if (this.onload) this.onload({ target: this });
                if (this.onreadystatechange) this.onreadystatechange();
              } catch (e) {
                // Ignore errors from fake callbacks
              }
            }, 0);
            return;
          }
          try {
            return originalXHRSend.apply(this, args);
          } catch (error) {
            if (error.message && isSentryRelated(error.message)) {
              return; // Suppress Sentry XHR errors
            }
            throw error;
          }
        };
        
        // Suppress XHR error events
        const originalXHRAddEventListener = XMLHttpRequest.prototype.addEventListener;
        XMLHttpRequest.prototype.addEventListener = function(type, listener, options) {
          if (this._sentrySuppressed && (type === 'error' || type === 'loadend' || type === 'abort')) {
            return; // Don't add error listeners for suppressed requests
          }
          return originalXHRAddEventListener.apply(this, [type, listener, options]);
        };
        
        // Suppress Sentry errors from content scripts (browser extensions)
        const originalPostMessage = window.postMessage;
        window.postMessage = function(message, targetOrigin, ...rest) {
          if (typeof message === 'string' && isSentryRelated(message)) {
            return; // Suppress Sentry postMessage
          }
          if (typeof message === 'object' && message && (isSentryRelated(JSON.stringify(message)) || message.type === 'sentry')) {
            return; // Suppress Sentry postMessage objects
          }
          return originalPostMessage.apply(this, [message, targetOrigin, ...rest]);
        };
        
        // Intercept network errors at the lowest level possible
        const originalCreateElement = document.createElement;
        document.createElement = function(tagName, options) {
          const element = originalCreateElement.call(this, tagName, options);
          if (tagName.toLowerCase() === 'script') {
            const originalSetAttribute = element.setAttribute;
            element.setAttribute = function(name, value) {
              if (name === 'src' && isSentryRelated(value)) {
                return; // Don't set src for Sentry scripts
              }
              return originalSetAttribute.call(this, name, value);
            };
          }
          return element;
        };
      })();
    </script>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>
